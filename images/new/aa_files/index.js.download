"use strict";var a=function(){var a={},b=window.location.search;if(!b)return a;var c=new URLSearchParams(b);return c.forEach(function(b,c){a[c]=decodeURIComponent(b)}),a},b=function(a){return{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}},c=function(){return a().xing_ad_delivery_id},d=function(a){var c=b({client_uuid:a});fetch("https://www.xing.com/xas/api/tracking_pixel_verification",c).then(function(a){if(!a.ok)throw new Error("XING Pixel: Validation failed.");console.info("XING Pixel: Validation successful.")}).catch(function(){throw new Error("XING Pixel: Validation failed.")})},e=function(){var a,e=["add_to_carts","apply_jobs","leads","page_views","purchases","signups","submit_applications","view_contents"],f=["apply_jobs","leads","signups","submit_applications","view_contents"],g="",h="",i=function(a){return e.includes(a)},j=function(a){return f.includes(a)},k=function(a,c){if(h){if(!i(a))throw new Error("invalid event: ".concat(a));if(c&&!j(a))throw new Error("".concat(a," does not allow unique event"));var d={client_uuid:g,xing_ad_delivery_id:h,client_timestamp:new Date().toISOString()};c&&(d.unique_value=c);var e=b(d);fetch("https://www.xing.com/ads-tracking/api/ad_delivery_conversion_"+a,e)}};return{queue:(null===(a=window.xtp)||void 0===a?void 0:a.queue)||[],init:function(a){var b;if(!a)throw new Error("client_uuid must be provided");d(a),g=a,h=c();// Check and process event queue from base code loader
var e=null===(b=window.xtp)||void 0===b?void 0:b.queue;(null===e||void 0===e?void 0:e.length)&&(e.forEach(function(a){k.apply(k,a)}),window.xtp.queue=[])},xingTrk:k}};window.xtp=e();
